<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f0e6d2"/>

  <!-- Main Body of the Machine -->
  <rect x="200" y="150" width="400" height="300" rx="20" ry="20" fill="#704214" stroke="#3d2409" stroke-width="8"/>

  <!-- Rivets on Main Body -->
  <circle cx="220" cy="170" r="5" fill="#b58a4a"/>
  <circle cx="580" cy="170" r="5" fill="#b58a4a"/>
  <circle cx="220" cy="430" r="5" fill="#b58a4a"/>
  <circle cx="580" cy="430" r="5" fill="#b58a4a"/>
  <circle cx="250" cy="170" r="5" fill="#b58a4a"/>
  <circle cx="550" cy="170" r="5" fill="#b58a4a"/>
  <circle cx="250" cy="430" r="5" fill="#b58a4a"/>
  <circle cx="550" cy="430" r="5" fill="#b58a4a"/>

  <!-- Brass Panel -->
  <rect x="240" y="180" width="320" height="240" rx="10" ry="10" fill="#b58a4a" stroke="#704214" stroke-width="4"/>

  <!-- Pipes -->
  <path d="M180,350 Q150,350 150,310 Q150,270 190,270" fill="none" stroke="#b58a4a" stroke-width="15" stroke-linecap="round"/>
  <path d="M620,350 Q650,350 650,310 Q650,270 610,270" fill="none" stroke="#b58a4a" stroke-width="15" stroke-linecap="round"/>

  <!-- Pipe Connectors -->
  <circle cx="180" cy="350" r="12" fill="#704214" stroke="#3d2409" stroke-width="2"/>
  <circle cx="190" cy="270" r="12" fill="#704214" stroke="#3d2409" stroke-width="2"/>
  <circle cx="620" cy="350" r="12" fill="#704214" stroke="#3d2409" stroke-width="2"/>
  <circle cx="610" cy="270" r="12" fill="#704214" stroke="#3d2409" stroke-width="2"/>

  <!-- Output Vent at the Top -->
  <rect x="375" y="120" width="50" height="30" fill="#3d2409"/>
  <rect x="360" y="110" width="80" height="20" rx="5" ry="5" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>

  <!-- Vent Slats -->
  <rect x="365" y="115" width="70" height="2" fill="#3d2409"/>
  <rect x="365" y="123" width="70" height="2" fill="#3d2409"/>
  <rect x="365" y="131" width="70" height="2" fill="#3d2409"/>

  <!-- ANIMATED STEAM FROM VENT - Made more obvious -->
  <path id="steamCloud1" d="M400,100 Q410,80 400,70 Q390,60 400,50 Q410,40 400,30" fill="none" stroke="white" stroke-width="12" stroke-linecap="round">
    <animate attributeName="d"
      values="M400,100 Q410,80 400,70 Q390,60 400,50 Q410,40 400,30;
              M400,80 Q410,60 400,50 Q390,40 400,30 Q410,20 400,10;
              M400,60 Q410,40 400,30 Q390,20 400,10 Q410,0 400,-10;
              M400,100 Q410,80 400,70 Q390,60 400,50 Q410,40 400,30"
      dur="3s"
      repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.9;0.6;0.3;0" dur="3s" repeatCount="indefinite"/>
  </path>

  <path id="steamCloud2" d="M385,90 Q375,70 385,60 Q395,50 385,40" fill="none" stroke="white" stroke-width="10" stroke-linecap="round">
    <animate attributeName="d"
      values="M385,90 Q375,70 385,60 Q395,50 385,40;
              M385,70 Q375,50 385,40 Q395,30 385,20;
              M385,50 Q375,30 385,20 Q395,10 385,0;
              M385,90 Q375,70 385,60 Q395,50 385,40"
      dur="3s"
      begin="0.5s"
      repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.9;0.6;0.3;0" dur="3s" begin="0.5s" repeatCount="indefinite"/>
  </path>

  <path id="steamCloud3" d="M415,90 Q425,70 415,60 Q405,50 415,40" fill="none" stroke="white" stroke-width="10" stroke-linecap="round">
    <animate attributeName="d"
      values="M415,90 Q425,70 415,60 Q405,50 415,40;
              M415,70 Q425,50 415,40 Q405,30 415,20;
              M415,50 Q425,30 415,20 Q405,10 415,0;
              M415,90 Q425,70 415,60 Q405,50 415,40"
      dur="3s"
      begin="1s"
      repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.9;0.6;0.3;0" dur="3s" begin="1s" repeatCount="indefinite"/>
  </path>

  <!-- ANIMATED GAUGES - Made more obvious -->
  <circle cx="300" cy="230" r="30" fill="#e9d8b6" stroke="#3d2409" stroke-width="3"/>
  <circle cx="300" cy="230" r="25" fill="none" stroke="#3d2409" stroke-width="1"/>
  <line id="gauge1Needle" x1="300" y1="230" x2="315" y2="215" stroke="#3d2409" stroke-width="3">
    <animateTransform attributeName="transform"
                      type="rotate"
                      from="-30 300 230"
                      to="30 300 230"
                      dur="2s"
                      repeatCount="indefinite"/>
  </line>

  <circle cx="500" cy="230" r="30" fill="#e9d8b6" stroke="#3d2409" stroke-width="3"/>
  <circle cx="500" cy="230" r="25" fill="none" stroke="#3d2409" stroke-width="1"/>
  <line id="gauge2Needle" x1="500" y1="230" x2="485" y2="215" stroke="#3d2409" stroke-width="3">
    <animateTransform attributeName="transform"
                      type="rotate"
                      from="30 500 230"
                      to="-30 500 230"
                      dur="3s"
                      repeatCount="indefinite"/>
  </line>

  <!-- Bottom base -->
  <rect x="180" y="450" width="440" height="20" rx="5" ry="5" fill="#3d2409"/>
  <rect x="220" y="470" width="360" height="30" rx="5" ry="5" fill="#704214" stroke="#3d2409" stroke-width="4"/>

  <!-- ANIMATED ROTATING GEARS - Made more obvious with faster rotation -->
  <g id="leftGear" transform="rotate(0 200 250)">
    <circle cx="200" cy="250" r="30" fill="#b58a4a" stroke="#3d2409" stroke-width="3"/>
    <circle cx="200" cy="250" r="5" fill="#3d2409"/>
    <path d="M200,250 L200,220 L210,220 L215,210 L200,210 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1"/>
    <path d="M200,250 L230,250 L230,240 L240,235 L240,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(60 200 250)"/>
    <path d="M200,250 L230,250 L230,240 L240,235 L240,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(120 200 250)"/>
    <path d="M200,250 L230,250 L230,240 L240,235 L240,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(180 200 250)"/>
    <path d="M200,250 L230,250 L230,240 L240,235 L240,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(240 200 250)"/>
    <path d="M200,250 L230,250 L230,240 L240,235 L240,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(300 200 250)"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      from="0 200 250"
                      to="360 200 250"
                      dur="5s"
                      repeatCount="indefinite"/>
  </g>

  <g id="rightGear" transform="rotate(0 600 250)">
    <circle cx="600" cy="250" r="30" fill="#b58a4a" stroke="#3d2409" stroke-width="3"/>
    <circle cx="600" cy="250" r="5" fill="#3d2409"/>
    <path d="M600,250 L600,220 L610,220 L615,210 L600,210 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(45 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(90 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(135 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(180 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(225 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(270 600 250)"/>
    <path d="M600,250 L630,250 L630,240 L640,235 L640,250 Z" fill="#b58a4a" stroke="#3d2409" stroke-width="1" transform="rotate(315 600 250)"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      from="0 600 250"
                      to="-360 600 250"
                      dur="4s"
                      repeatCount="indefinite"/>
  </g>

  <!-- ANIMATED LEVERS - Made more obvious with larger movement -->
  <g id="lever1">
    <line x1="290" y1="360" x2="290" y2="300" stroke="#3d2409" stroke-width="5" stroke-linecap="round"/>
    <circle cx="290" cy="360" r="8" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <circle cx="290" cy="300" r="12" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <path d="M290,300 L260,280" stroke="#3d2409" stroke-width="4" stroke-linecap="round"/>
    <circle cx="260" cy="280" r="6" fill="#704214"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      values="0 290 300; 20 290 300; 0 290 300; -20 290 300; 0 290 300"
                      dur="4s"
                      repeatCount="indefinite"/>
  </g>

  <g id="lever2">
    <line x1="350" y1="360" x2="350" y2="300" stroke="#3d2409" stroke-width="5" stroke-linecap="round"/>
    <circle cx="350" cy="360" r="8" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <circle cx="350" cy="300" r="12" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <path d="M350,300 L335,265" stroke="#3d2409" stroke-width="4" stroke-linecap="round"/>
    <circle cx="335" cy="265" r="6" fill="#704214"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      values="-15 350 300; 0 350 300; 15 350 300; 0 350 300; -15 350 300"
                      dur="3.5s"
                      repeatCount="indefinite"/>
  </g>

  <g id="lever3">
    <line x1="400" y1="360" x2="400" y2="300" stroke="#3d2409" stroke-width="5" stroke-linecap="round"/>
    <circle cx="400" cy="360" r="8" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <circle cx="400" cy="300" r="12" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <path d="M400,300 L400,265" stroke="#3d2409" stroke-width="4" stroke-linecap="round"/>
    <circle cx="400" cy="265" r="6" fill="#704214"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      values="0 400 300; -20 400 300; 0 400 300; 20 400 300; 0 400 300"
                      dur="5s"
                      repeatCount="indefinite"/>
  </g>

  <g id="lever4">
    <line x1="450" y1="360" x2="450" y2="300" stroke="#3d2409" stroke-width="5" stroke-linecap="round"/>
    <circle cx="450" cy="360" r="8" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <circle cx="450" cy="300" r="12" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <path d="M450,300 L480,280" stroke="#3d2409" stroke-width="4" stroke-linecap="round"/>
    <circle cx="480" cy="280" r="6" fill="#704214"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      values="15 450 300; 0 450 300; -15 450 300; 0 450 300; 15 450 300"
                      dur="4.5s"
                      repeatCount="indefinite"/>
  </g>

  <g id="lever5">
    <line x1="510" y1="360" x2="510" y2="300" stroke="#3d2409" stroke-width="5" stroke-linecap="round"/>
    <circle cx="510" cy="360" r="8" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <circle cx="510" cy="300" r="12" fill="#b58a4a" stroke="#3d2409" stroke-width="2"/>
    <path d="M510,300 L535,320" stroke="#3d2409" stroke-width="4" stroke-linecap="round"/>
    <circle cx="535" cy="320" r="6" fill="#704214"/>
    <animateTransform attributeName="transform"
                      type="rotate"
                      values="-20 510 300; 0 510 300; 20 510 300; 0 510 300; -20 510 300"
                      dur="4s"
                      repeatCount="indefinite"/>
  </g>

  <!-- Title -->
  <text x="400" y="520" text-anchor="middle" font-family="serif" font-size="24" font-weight="bold" fill="#3d2409">PROFESSOR OSHIBOTSU'S</text>
  <text x="400" y="550" text-anchor="middle" font-family="serif" font-size="18" font-style="italic" fill="#3d2409">Steam Regulation Apparatus</text>
</svg>
